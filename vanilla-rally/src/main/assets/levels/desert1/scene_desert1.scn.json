[
  {
    "call": "globals",
    "arguments": {
      "loaded_level_id": "%selected_level_id",
      "aggregate_mode": "instances_sorted",
      "vip_name": "you",
      "player_role": "driver",
      "osm_location": {
        "position": [0, -220, 0],
        "rotation": [-90, 0, 0],
        "scale": 1
      }
    }
  },
  {"include": "../../scripts/include_all.scn.json"},
  {"include": "osm_resource_desert1.scn.json"},
  {
    "playback": "scene_racing_static",
    "arguments": {
      "IF_CREATE_PC_PLAYER": true,
      "IF_PC_PLAYER_PLAYBACK": false,
      "PC_PLAYER_PLAYBACK": null,
      "PC_PLAYER_PLAYBACK_SPEEDUP": null,
      "STADIUM_CAMERA_POSITION": [0, 500, 500],
      "SCORE_BOARD": "player|history|laps|rank|race_time",
      "OSM_MAP_RESOURCE": "osm_resource_desert1",
      "IF_HAS_OVERLAY": false,
      "IF_DIRTMAP": false,
      "IF_EXTRACT_ALIGNMENT_PLANES": false,
      "IF_GEN_GRIND_LINES": false,
      "IF_GEN_INSTANCES": false,
      "BARRIER_DEPTH": 0,
      "IF_WITH_GEOGRAPHIC_MAPPING": true,
      "DIRTMAP_TEXTURE": null,
      "DIRTMAP_OFFSET": null,
      "DIRTMAP_DISCRETENESS": null,
      "DIRT_SCALE": null,
      "DIRTMAP_WRAP_MODE": null,
      "DIRTMAP_LEFT": null,
      "DIRTMAP_RIGHT": null,
      "DIRTMAP_BOTTOM": null,
      "DIRTMAP_TOP": null,
      "SOFT_LIGHT_TEXTURE": null
    }
  },
  {
    "declare_macro": "instantiate_transient_objects",
    "content": {
      "playback": "scene_racing_instantiate_transient_objects",
      "let": {
        "IF_CREATE_PC_CAR": true,
        "IF_PC_PLAYER_PLAYBACK": false,
        "car_node_position": [
          "'-113.3258598_deg'",
          "'35.7393636_deg'",
          "'142'"],
        "car_node_angles": [0, 140, 0],
        "vehicle_velocity": [0, 0, 0],
        "vehicle_angular_velocity": [0, 0, 0],
        "RECORDINGS_DIR": "%__DIR__",
        "CHECKPOINTS_FILE": "$__APPDATA__/$loaded_level_id.checkpoints.m",
        "checkpoints": null,
        "PACENOTES_FILE": "$__DIR__/pacenotes.json",
        "IF_PLAYBACK_CHECKPOINTS": false,
        "IF_PLAYBACK_TRACK_1": false,
        "IF_PLAYBACK_TRACK_2": false,
        "IF_PLAYBACK_TRACK_3": false,
        "IF_CHECKPOINTS": true,
        "IF_BURN_IN": true
      }
    }
  },
  {
    "playback": "scene_racing_setup_new_round",
    "context": "primary_scene"
  },
  { "playback": "create_main_menu" },
  {
    "call": "preload",
    "context": "primary_scene",
    "arguments": {"file": "$__DIR__/resources.json"}
  }
]
